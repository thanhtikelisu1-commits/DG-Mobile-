<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Double Grace Mobile</title>
    <style>
        :root { --gold: #d4af37; --dark: #000; --card: #111; --text: #eee; }
        body { background: var(--dark); color: var(--text); font-family: sans-serif; margin: 0; padding-bottom: 50px; }
        
        /* Header - Admin á€–á€½á€€á€ºá€‘á€¬á€¸á€›á€”á€º á€”á€±á€›á€¬ */
        .header { background: var(--card); padding: 20px; text-align: center; border-bottom: 2px solid var(--gold); user-select: none; }
        .header h2 { margin: 0; color: var(--gold); cursor: pointer; }

        .container { padding: 15px; }
        .tabs { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; margin-bottom: 20px; }
        .tab { background: #222; padding: 10px 2px; text-align: center; font-size: 11px; cursor: pointer; border-radius: 5px; color: #888; border: 1px solid #333; }
        .tab.active { background: var(--gold); color: #000; font-weight: bold; border: none; }

        /* Item Display */
        .item-card { background: var(--card); border-radius: 15px; overflow: hidden; margin-bottom: 20px; border: 1px solid #222; position: relative; }
        .item-img { width: 100%; height: 200px; object-fit: cover; background: #222; }
        .item-detail { padding: 15px; }
        .item-detail b { font-size: 18px; display: block; margin-bottom: 5px; }
        .item-detail span { color: var(--gold); font-weight: bold; }

        /* Admin Panel */
        #admin-panel { display: none; background: #1a1a1a; padding: 20px; border-radius: 15px; border: 1px solid var(--gold); margin-top: 10px; }
        input, select { width: 100%; padding: 12px; margin: 10px 0; background: #000; border: 1px solid #444; color: white; border-radius: 8px; box-sizing: border-box; }
        .btn { width: 100%; padding: 12px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 5px; }
        .btn-gold { background: var(--gold); color: #000; }
        .btn-del { position: absolute; top: 10px; right: 10px; background: rgba(255,0,0,0.8); color: white; border-radius: 5px; padding: 5px 10px; font-size: 12px; }
        
        #preview { width: 100%; height: 150px; object-fit: contain; margin-top: 10px; display: none; background: #000; border-radius: 10px; }
    </style>
</head>
<body>

    <div class="header">
        <h2 onmousedown="startTimer()" onmouseup="clearTimer()" ontouchstart="startTimer()" ontouchend="clearTimer()">Double Grace Mobile</h2>
        <div style="font-size: 10px; color: #666; margin-top: 5px;">ğŸ“± á€–á€¯á€”á€ºá€¸á€•á€¼á€„á€º á€”á€¾á€„á€·á€º á€á€”á€ºá€†á€±á€¬á€„á€ºá€™á€¾á€¯á€•á€±á€«á€„á€ºá€¸á€…á€¯á€¶</div>
    </div>

    <div class="container">
        <div class="tabs">
            <div class="tab active" onclick="switchTab('á€–á€¯á€”á€ºá€¸á€•á€¼á€„á€º', this)">ğŸ”§ á€–á€¯á€”á€ºá€¸á€•á€¼á€„á€º</div>
            <div class="tab" onclick="switchTab('á€á€•á€á€ºá€›á€…á€º', this)">ğŸ“± á€á€•á€á€ºá€›á€…á€º</div>
            <div class="tab" onclick="switchTab('á€¡á€•á€­á€¯á€•á€…á€¹á€…á€Šá€ºá€¸', this)">ğŸ§ á€¡á€•á€­á€¯á€•á€…á€¹á€…á€Šá€ºá€¸</div>
            <div class="tab" onclick="switchTab('Social', this)">ğŸŒ Social</div>
        </div>

        <h3 id="current-category" style="color: var(--gold);">á€–á€¯á€”á€ºá€¸á€•á€¼á€„á€ºá€…á€¬á€›á€„á€ºá€¸</h3>
        <div id="display-list"></div>

        <div id="admin-panel">
            <h3 style="margin-top:0; color:var(--gold);">Admin Panel</h3>
            <input type="text" id="pName" placeholder="á€•á€…á€¹á€…á€Šá€ºá€¸á€¡á€™á€Šá€º">
            <input type="text" id="pPrice" placeholder="á€…á€»á€±á€¸á€”á€¾á€¯á€”á€ºá€¸">
            <select id="pType">
                <option value="á€–á€¯á€”á€ºá€¸á€•á€¼á€„á€º">á€–á€¯á€”á€ºá€¸á€•á€¼á€„á€º</option>
                <option value="á€á€•á€á€ºá€›á€…á€º">á€á€•á€á€ºá€›á€…á€º</option>
                <option value="á€¡á€•á€­á€¯á€•á€…á€¹á€…á€Šá€ºá€¸">á€¡á€•á€­á€¯á€•á€…á€¹á€…á€Šá€ºá€¸</option>
                <option value="Social">Social</option>
            </select>
            <p style="font-size: 12px; color: #888; margin-bottom: 5px;">á€•á€¯á€¶á€›á€½á€±á€¸á€›á€”á€º -</p>
            <input type="file" id="pImg" accept="image/*" onchange="previewImage(event)">
            <img id="preview">
            <button class="btn btn-gold" onclick="uploadData()">á€•á€…á€¹á€…á€Šá€ºá€¸á€á€„á€ºá€™á€Šá€º</button>
            <button class="btn" style="background:#444; color:#fff;" onclick="location.reload()">Admin á€‘á€½á€€á€ºá€™á€Šá€º</button>
        </div>
    </div>

<script>
    let currentTab = "á€–á€¯á€”á€ºá€¸á€•á€¼á€„á€º";
    let isAdminMode = false;
    let pressTimer;

    // Admin á€–á€½á€€á€ºá€‘á€¬á€¸á€á€²á€·á€…á€”á€…á€º
    function startTimer() { pressTimer = window.setTimeout(adminLogin, 3000); }
    function clearTimer() { clearTimeout(pressTimer); }

    function adminLogin() {
        let pass = prompt("á€†á€­á€¯á€„á€ºá€›á€¾á€„á€º Password á€›á€­á€¯á€€á€ºá€‘á€Šá€·á€ºá€•á€«:");
        if(pass === (localStorage.getItem('admin_pass') || '1234')) {
            isAdminMode = true;
            document.getElementById('admin-panel').style.display = 'block';
            loadData();
            alert("Admin Mode á€–á€½á€„á€·á€ºá€œá€­á€¯á€€á€ºá€•á€«á€•á€¼á€®");
        }
    }

    function previewImage(event) {
        const reader = new FileReader();
        reader.onload = function() {
            const preview = document.getElementById('preview');
            preview.src = reader.result;
            preview.style.display = 'block';
        };
        reader.readAsDataURL(event.target.files[0]);
    }

    function uploadData() {
        const name = document.getElementById('pName').value;
        const price = document.getElementById('pPrice').value;
        const type = document.getElementById('pType').value;
        const imgInput = document.getElementById('pImg');

        if(!name || !price) return alert("á€¡á€á€»á€€á€ºá€¡á€œá€€á€ºá€•á€¼á€Šá€·á€ºá€…á€¯á€¶á€…á€½á€¬á€–á€¼á€Šá€·á€ºá€•á€«");

        const reader = new FileReader();
        if(imgInput.files[0]) {
            reader.onload = function() {
                saveToLocal(name, price, type, reader.result);
            };
            reader.readAsDataURL(imgInput.files[0]);
        } else {
            saveToLocal(name, price, type, "");
        }
    }

    function saveToLocal(name, price, type, imgData) {
        let data = JSON.parse(localStorage.getItem('dg_store')) || [];
        data.push({ name, price, type, img: imgData, id: Date.now() });
        localStorage.setItem('dg_store', JSON.stringify(data));
        alert("á€á€„á€ºá€•á€¼á€®á€¸á€•á€«á€•á€¼á€®!");
        location.reload();
    }

    function loadData() {
        const list = document.getElementById('display-list');
        let data = JSON.parse(localStorage.getItem('dg_store')) || [];
        let filtered = data.filter(item => item.type === currentTab);
        list.innerHTML = "";
        filtered.forEach(item => {
            list.innerHTML += `
                <div class="item-card">
                    ${item.img ? `<img src="${item.img}" class="item-img">` : `<div class="item-img" style="display:flex; align-items:center; justify-content:center; color:#444;">No Image</div>`}
                    <div class="item-detail">
                        <b>${item.name}</b>
                        <span>${item.price} MMK</span>
                    </div>
                    ${isAdminMode ? `<button class="btn-del" onclick="deleteData(${item.id})">á€–á€»á€€á€ºá€™á€Šá€º</button>` : ''}
                </div>`;
        });
    }

    function switchTab(cat, el) {
        currentTab = cat;
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        el.classList.add('active');
        document.getElementById('current-category').innerText = cat + " á€…á€¬á€›á€„á€ºá€¸";
        loadData();
    }

    function deleteData(id) {
        if(confirm("á€–á€»á€€á€ºá€™á€¾á€¬ á€á€±á€á€»á€¬á€•á€«á€á€œá€¬á€¸?")) {
            let data = JSON.parse(localStorage.getItem('dg_store')) || [];
            data = data.filter(i => i.id !== id);
            localStorage.setItem('dg_store', JSON.stringify(data));
            loadData();
        }
    }

    window.onload = loadData;
</script>
</body>
</html>
